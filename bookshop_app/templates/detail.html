{% extends 'base.html' %}
{% block title %}Book Detail{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row justify-content-center">  
        <div class="col-md-6 text-center">  
            <h2>{{ object.title }}</h2>
            <p>{{ object.description }}</p>

            {% if object.image %}
            <img src="{{ object.image.url }}"
             alt="{{ object.title }}"
             style="display:block; margin:0 auto; width:auto;
                 max-width:300px; height:200px; object-fit:cover; object-position:center;">
            <br></br>
            {% endif %}
            <p class="card-text  fw-bold">Price: Â¥{{ object.price }}</p>
            <p class="mt-3">Categories:
            {% for category in object.categories.all %}
               {{ category.name }}{% if not forloop.last %}, {% endif %}
            {% empty %}
               None
            {% endfor %}
            </p>
            <div class="d-flex justify-content-center gap-2 mt-3">
                {% if user.is_authenticated %}
                    <a href="{% url 'bookshop:add_to_cart' book.pk %}" class="btn btn-sm btn-dark">ðŸ›’ Add to Cart</a>
                {% else %}
                    <button class="btn btn-sm btn-secondary" disabled>ðŸ›’ Add to Cart </button>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
