{% load static %}

<div class="album py-5 bg-light">
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">

      {% for book in books %}
      <div class="col">
        <div class="card shadow-sm">

          {% if book.image %}
          <img src="{{ book.image.url }}"
               class="bd-placeholder-img card-img-top"
               style="height:180px; object-fit:contain; object-position:center;">
          {% endif %}

          <div class="card-body text-center">
            <p class="card-text fw-bold">{{ book.title }}</p>
            <p class="card-text fw-bold">Price: Â¥{{ book.price }}</p>

            <div class="d-flex justify-content-center gap-2 mt-2">
              <a href="{% url 'bookshop:book_detail' book.pk %}" class="btn btn-sm btn-outline-secondary">View</a>

              {% if user.is_authenticated %}
                <a href="{% url 'bookshop:add_to_cart' book.pk  %}" class="btn btn-sm btn-dark">ğŸ›’ Add to Cart</a>
              {% else %}
                <button class="btn btn-sm btn-secondary" disabled>ğŸ›’ Add to Cart</button>
              {% endif %}
            </div>

          </div>
        </div>
      </div>
      {% endfor %}

    </div>
    <h5 class="text-center text-danger my-2">
            ã‚«ãƒ¼ãƒˆã«è³¼å…¥ã—ãŸã„å ´åˆã¯ Sign up ã¾ãŸã¯ Login ã—ã¦ãã ã•ã„ï¼
    </h5>
  </div>
</div>

